{"version":3,"file":"playground.js","sources":["../src/Editor/EditorSetup.tsx","../src/utils/media.ts","../src/TabStyles.tsx","../src/Editor/index.tsx","../src/Result/Console.tsx","../src/Result/ErrorDisplay.tsx","../src/Result/Frame.tsx","../src/utils/constructSnippet.ts","../src/Result/index.tsx","../src/utils/theme.ts","../src/utils/ThemeProvider.tsx","../src/Draggable/index.tsx","../src/Draggable/useDrag.ts","../src/Playground.tsx"],"sourcesContent":["import React, { FC, Fragment } from \"react\";\nimport SimpleEditor from \"react-simple-code-editor\";\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport theme from \"prism-react-renderer/themes/nightOwl\";\nimport { styled } from \"goober\";\n\nimport { IEditorTabs } from \"../types\";\n\nconst EditorWrapper = styled(\"div\")`\n  background-color: #252530;\n  overflow-y: auto;\n  font-feature-settings: normal;\n  width: 100%;\n  height: 100%;\n  letter-spacing: 0.5px;\n  line-height: 1.2;\n\n  textarea {\n    caret-color: white;\n  }\n`;\n\ninterface IProps {\n  code: string;\n  language: IEditorTabs;\n  onChange: (value: string, language: IEditorTabs) => void;\n}\n\nconst EditorSetup: FC<IProps> = ({ code, language, onChange }) => {\n  return (\n    <EditorWrapper>\n      <SimpleEditor\n        value={code}\n        onValueChange={(value: string) => onChange(value, language)}\n        style={{ height: \"100%\" }}\n        highlight={(code) => (\n          <Highlight\n            {...defaultProps}\n            theme={theme}\n            code={code}\n            language={language}\n          >\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\n              <Fragment>\n                {tokens.map((line, i) => (\n                  <div {...getLineProps({ line, key: i })}>\n                    {line.map((token, key) => (\n                      <span {...getTokenProps({ token, key })} />\n                    ))}\n                  </div>\n                ))}\n              </Fragment>\n            )}\n          </Highlight>\n        )}\n        padding={10}\n      />\n    </EditorWrapper>\n  );\n};\n\nexport default EditorSetup;\n","const customMediaQuery = (maxWidth: number) =>\n  `@media (max-width: ${maxWidth}px)`;\n\nconst media = Object.freeze({\n  custom: customMediaQuery,\n  desktop: customMediaQuery(922),\n  tablet: customMediaQuery(768),\n  phone: customMediaQuery(576),\n});\n\nexport default media;","import { styled } from \"goober\";\nimport { Tabs, TabList, Tab, TabPanels, TabPanel } from \"@reach/tabs\";\n\nimport media from \"./utils/media\";\n\nexport const StyledTabs = styled(Tabs)`\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  min-width: 200px;\n  min-height: 350px;\n  background: #252530;\n\n  ${media.phone} {\n    min-width: 100% !important;\n    min-height: 100%;\n  }\n`;\n\nexport const StyledTabList = styled(TabList)`\n  background-color: #252530;\n`;\n\nexport const StyledTab = styled(Tab)`\n  border: none;\n  padding: 8px 5px;\n  color: gray;\n\n  &[data-selected] {\n    color: lightgray;\n    font-weight: 600;\n  }\n`;\n\nexport const StyledTabPanels = styled(TabPanels)`\n  flex: 1 1 0%;\n`;\n\nexport const StyledTabPanel = styled(TabPanel)`\n  height: 100%;\n  width: 100%;\n`;\n","import React, { FC, useMemo } from \"react\";\nimport { IEditorTabs, ISnippet } from \"../types\";\nimport EditorSetup from \"./EditorSetup\";\nimport { ITabConfig } from \"../types\";\nimport {\n  StyledTabs,\n  StyledTabList,\n  StyledTab,\n  StyledTabPanels,\n  StyledTabPanel,\n} from \"../TabStyles\";\n\ninterface IProps {\n  width: number;\n  code: ISnippet;\n  defaultTab: IEditorTabs;\n  excludeEditorTabs?: IEditorTabs[];\n  onChange: (changed: string, type: IEditorTabs) => void;\n}\n\nconst Editor: FC<IProps> = ({\n  code,\n  defaultTab,\n  excludeEditorTabs,\n  onChange,\n  width,\n}) => {\n  const tabs: Readonly<ITabConfig<IEditorTabs>[]> = useMemo(() => {\n    const defaultTabs = [\n      { name: \"HTML\", value: \"markup\" as IEditorTabs },\n      { name: \"CSS\", value: \"css\" as IEditorTabs },\n      { name: \"JS\", value: \"javascript\" as IEditorTabs },\n    ];\n\n    return defaultTabs.filter((tab) =>\n      excludeEditorTabs.find((name) => name !== tab.value)\n    );\n  }, [excludeEditorTabs]);\n  ``;\n  return (\n    <StyledTabs\n      defaultIndex={tabs.findIndex((tab) => tab.value === defaultTab)}\n      style={{ width: width }}\n    >\n      <StyledTabList>\n        {tabs.map((tab) => (\n          <StyledTab key={tab.value}>{tab.name}</StyledTab>\n        ))}\n      </StyledTabList>\n      <StyledTabPanels>\n        {tabs.map((tab) => (\n          <StyledTabPanel key={tab.value}>\n            <EditorSetup\n              code={code[tab.value]}\n              onChange={onChange}\n              language={tab.value}\n            />\n          </StyledTabPanel>\n        ))}\n      </StyledTabPanels>\n    </StyledTabs>\n  );\n};\n\nexport default Editor;\n","import React, { FC } from \"react\";\nimport { styled } from \"goober\";\nimport Inspector from \"@agney/react-inspector\";\n\nconst Container = styled(\"div\")`\n  background-color: black;\n  color: white;\n  height: 100%;\n\n  li {\n    font-size: 16px !important;\n  }\n`;\n\ninterface IProps {\n  logs: unknown[];\n}\n\nconst Console: FC<IProps> = ({ logs }) => {\n  return (\n    <Container>\n      {logs.map((log: unknown, index: number) => (\n        <Inspector data={log} key={index} theme=\"chromeDark\" />\n      ))}\n    </Container>\n  );\n};\n\nexport default Console;\n","import React, { FC } from \"react\";\nimport { styled } from \"goober\";\n\nconst Container = styled(\"div\")`\n  color: white;\n  padding: 0.2em 0.5em;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  box-sizing: border-box;\n  background: #e63946;\n`;\n\ninterface IProps {\n  error: string;\n}\n\nconst ErrorDisplay: FC<IProps> = ({ error }) => {\n  return (\n    <Container>\n      <p>{error}</p>\n    </Container>\n  );\n};\n\nexport default ErrorDisplay;\n","import React, { FC, useMemo, useState, memo, useEffect } from \"react\";\nimport { styled } from \"goober\";\n\nimport { ISnippet } from \"../types\";\nimport constructSnippet from \"../utils/constructSnippet\";\nimport ErrorDisplay from \"./ErrorDisplay\";\n\nconst Container = styled(\"div\")`\n  position: relative;\n  height: 100%;\n  background: white;\n  border-radius: 8px;\n`;\ninterface IProps {\n  id: string | number;\n  snippet: ISnippet;\n  transformJs: boolean;\n  presets: string[];\n}\n\nconst Frame: FC<IProps> = memo(({ id, snippet, transformJs, presets }) => {\n  const [code, setCode] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n\n  useMemo(() => {\n    try {\n      const code = constructSnippet(snippet, id, transformJs, presets);\n      setCode(code);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    }\n  }, [snippet, transformJs]);\n\n  useEffect(() => {\n    function waitForMessage() {\n      if (typeof window !== \"undefined\") {\n        window.addEventListener(\"message\", (data) => {\n          if (\n            data.data.source === `frame-${id}` &&\n            data.data.message.type === \"error\"\n          ) {\n            setError(data.data.message.data);\n          }\n        });\n      }\n    }\n    waitForMessage();\n  }, [id]);\n\n  return (\n    <Container>\n      <iframe\n        height=\"100%\"\n        width=\"100%\"\n        title={\"example\"}\n        frameBorder=\"0\"\n        srcDoc={code}\n      />\n      {error && <ErrorDisplay error={error} />}\n    </Container>\n  );\n});\n\nexport default Frame;\n","import { ISnippet } from \"../types\";\n\n/**\n * Constructs snippet from individual html, css and js code.\n */\nfunction constructSnippet(\n  { markup, css, javascript }: ISnippet,\n  id: string | number,\n  transformJs: boolean,\n  presets: string[]\n) {\n  function constructJavaScript() {\n    if (transformJs) {\n      return `\n        <script type=\"module\">\n          const BareIdentifierFormat = /^((?:@[^\\\\/]+\\\\/)?[^\\\\/]+)(\\\\/.*)?$/\n\n          function validUrl(url) {\n            try {\n              new URL(url);\n              return true;\n            } catch(err) {\n              return false;\n            }\n          }\n\n          function unpkg(dependencies = {}) {\n            return {\n              visitor: {\n                \"ImportDeclaration|ExportNamedDeclaration|ExportAllDeclaration\"(path) {\n                  if (\n                    !path.node.source || // Probably a variable declaration\n                    validUrl(path.node.source.value) || // Valid URL\n                    path.node.source.value.substr(0, 2) === \"//\" || // URL w/o protocol\n                    [\".\", \"/\"].indexOf(path.node.source.value.charAt(0)) >= 0 // Local path\n                  )\n                    return; // Leave it alone\n\n                  // A \"bare\" identifier\n                  const match = BareIdentifierFormat.exec(path.node.source.value);\n                  const packageName = match[1];\n                  const file = match[2] || \"\";\n\n                  console.warn(\n                    dependencies[packageName],\n                    'Missing version for package \"%s\" in dependencies; falling back to \"latest\"',\n                    packageName\n                  );\n\n                  const version = dependencies[packageName] || \"latest\";\n\n                  path.node.source.value = \\`https://unpkg.com/\\${packageName}@\\${version}\\${file}?module\\`;\n                }\n              }\n            };\n          }\n\n          Babel.registerPlugin('unpkg', unpkg);\n\n          const code = Babel.transform(decodeURI(\\`${encodeURI(\n            javascript\n          )}\\`), {\n            plugins: ['unpkg'],\n            presets: ${JSON.stringify(presets)}  \n          }).code;\n          const script = document.createElement(\"script\");\n          script.type = \"module\";\n          script.innerHTML = code;\n          document.body.appendChild(script);\n        </script>\n      `;\n    } else {\n      return `\n        <script>\n          ${javascript}\n        </script>\n      `;\n    }\n  }\n  return `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\"/>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"/>\n      <title>Document</title>\n      <style>${css}</style>\n    </head>\n    <body>\n      ${markup}\n      <span></span>\n      <script>\n        var _privateLog = console.log;\n        console.log = function(...rest) {\n          if(typeof window !== 'undefined') {\n            window.parent.postMessage({\n              source: \"frame-${id}\",\n              message: {\n                type: \"log\",\n                data: rest\n              },\n            }, \"*\");\n          }\n          _privateLog.apply(console, arguments);\n        }\n        window.onerror = function(message) {\n          if(typeof window !== 'undefined') {\n            window.parent.postMessage({\n              source: \"frame-${id}\",\n              message: {\n                type: \"error\",\n                data: message\n              },\n            }, \"*\");\n          }\n        }\n      </script>\n      <script src=\"https://unpkg.com/@babel/standalone/babel.min.js\"></script>\n      ${constructJavaScript()}\n    </body>\n    </html>\n  `;\n}\n\nexport default constructSnippet;\n","import React, { FC, useMemo, useEffect, useState } from \"react\";\n\nimport {\n  StyledTabList,\n  StyledTab,\n  StyledTabPanels,\n  StyledTabPanel,\n  StyledTabs,\n} from \"../TabStyles\";\nimport { ISnippet, ITabConfig, IResultTabs } from \"../types\";\nimport Console from \"./Console\";\nimport Frame from \"./Frame\";\n\ninterface IProps {\n  id: string | number;\n  snippet: ISnippet;\n  defaultTab: IResultTabs;\n  excludeTabs?: IResultTabs[];\n  transformJs: boolean;\n  presets: string[];\n  width: number;\n}\n\nconst Result: FC<IProps> = ({\n  id,\n  snippet,\n  presets,\n  defaultTab,\n  excludeTabs,\n  transformJs,\n  width,\n}) => {\n  const [logs, setLogs] = useState<unknown[]>([]);\n  const tabs: Readonly<ITabConfig<IResultTabs>[]> = useMemo(() => {\n    const defaultTabs = [\n      { name: \"Result\", value: \"result\" as IResultTabs },\n      { name: \"Console\", value: \"console\" as IResultTabs },\n    ];\n\n    return defaultTabs.filter((tab) =>\n      excludeTabs.find((name) => name !== tab.value)\n    );\n  }, [excludeTabs]);\n  useEffect(() => {\n    function waitForMessage() {\n      if (typeof window !== \"undefined\") {\n        window.addEventListener(\"message\", (data) => {\n          if (\n            data.data.source === `frame-${id}` &&\n            data.data.message.type === \"log\"\n          ) {\n            setLogs((prevLogs) => [...prevLogs, ...data.data.message.data]);\n          }\n        });\n      }\n    }\n    waitForMessage();\n  }, [id]);\n\n  return (\n    <StyledTabs\n      defaultIndex={tabs.findIndex((tab) => tab.value === defaultTab)}\n      style={{ width: width }}\n    >\n      <StyledTabList>\n        {tabs.map((tab) => (\n          <StyledTab key={tab.value}>{tab.name}</StyledTab>\n        ))}\n      </StyledTabList>\n      <StyledTabPanels>\n        <StyledTabPanel>\n          <Frame\n            id={id}\n            snippet={snippet}\n            transformJs={transformJs}\n            presets={presets}\n          />\n        </StyledTabPanel>\n        <StyledTabPanel>\n          <Console logs={logs} />\n        </StyledTabPanel>\n      </StyledTabPanels>\n    </StyledTabs>\n  );\n};\n\nexport default Result;\n","import merge from \"lodash.merge\";\n\nconst lightModeColors = {\n  container: {\n    borderColor: \"rgba(0, 0, 0, 0.3)\",\n  },\n  error: {\n    background: \"#e74c3c\",\n    color: \"#ffffff\",\n  },\n  console: {\n    background: \"rgba(0, 0, 0, 1)\",\n  },\n  divider: {\n    background: \"#202020\",\n  },\n  editor: {\n    backgroundColor: `#000000`,\n    color: `#ffffff`,\n  },\n  tabs: {\n    tabHeader: {\n      background: \"transparent\",\n      color: `#000000`,\n      borderBottom: `0.1em solid rgba(0, 0, 0, 0.1)`,\n    },\n  },\n};\n\nconst darkModeColors = {\n  container: {\n    borderColor: \"rgba(255, 255, 255, 0.4)\",\n  },\n  error: {\n    background: \"#e74c3c\",\n    color: \"#ffffff\",\n  },\n  console: {\n    background: \"rgba(0, 0, 0, 1)\",\n  },\n  divider: {\n    background: \"rgba(255, 255, 255, 0.5)\",\n  },\n  editor: {\n    backgroundColor: `#000000`,\n    color: `#ffffff`,\n  },\n  tabs: {\n    tabHeader: {\n      background: `rgba(1, 21, 21, 0.8)`,\n      panelBackground: `rgb(1, 21, 21)`,\n      color: `#ffffff`,\n      borderBottom: `0.1em solid rgba(255, 255, 255, 0.4)`,\n    },\n    selectedTab: {\n      borderBottom: \"0.2em solid rgb(255, 255, 255)\",\n    },\n  },\n};\n\nexport const theme = {\n  container: {\n    borderColor: \"\",\n    minHeight: \"20em\",\n    minWidth: \"15em\",\n  },\n  error: {\n    background: \"\",\n    color: \"\",\n  },\n  console: {\n    background: \"rgba(0, 0, 0, 1)\",\n  },\n  divider: {\n    width: 2,\n    background: \"\",\n  },\n  editor: {\n    fontFamily: `Consolas, Menlo, Monaco, source-code-pro, Courier New, monospace`,\n    backgroundColor: ``,\n    color: ``,\n  },\n  tabs: {\n    tabHeader: {\n      borderBottom: \"\",\n      panelBackground: \"\",\n      background: \"\",\n      color: \"\",\n    },\n    tabPanel: {\n      phoneHeight: \"10em\",\n    },\n    selectedTab: {\n      background: \"\",\n      borderBottom: \"0.2em solid rgb(0, 0, 0)\",\n    },\n  },\n};\n\nexport type ColorMode = \"light\" | \"dark\";\n\n/**\n * Get corresponding theme.\n * @param mode color theme type\n */\nexport default function getTheme(mode: ColorMode = \"light\") {\n  const colorTheme = mode === \"light\" ? lightModeColors : darkModeColors;\n  return merge(theme, colorTheme);\n}\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport getTheme, { theme } from './theme';\n\nexport type DefaultTheme = typeof theme;\n\nconst ThemeContext = createContext(theme);\nexport const useTheme = () => useContext(ThemeContext);\n\nexport function ThemeProvider({ mode, userTheme, children }) {\n  const [consolidatedTheme, setConsolidatedTheme] = useState<DefaultTheme>(\n    theme\n  );\n\n  useEffect(() => {\n    setConsolidatedTheme(getTheme(mode));\n  }, [mode]);\n\n  return (\n    <ThemeContext.Provider value={userTheme ?? consolidatedTheme}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}","import React, { FC, ReactNode, useRef, forwardRef } from \"react\";\nimport { styled } from \"goober\";\n\nimport useDrag from \"./useDrag\";\nimport { useTheme } from \"../utils/ThemeProvider\";\nimport media from \"../utils/media\";\n\nconst Container = styled(\"div\", forwardRef)`\n  display: flex;\n  border: 16px solid #252530;\n  border-radius: 8px;\n\n  ${media.phone} {\n    flex-direction: column;\n  }\n`;\n\nconst Divider = styled(\"div\", forwardRef)`\n  width: 15px;\n  cursor: col-resize;\n  background-color: #252530;\n`;\ninterface IProps {\n  className?: string;\n  leftChild: (width: number) => ReactNode;\n  rightChild: (width: number) => ReactNode;\n}\n\nconst Draggable: FC<IProps> = ({ className = \"\", leftChild, rightChild }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const dividerRef = useRef<HTMLDivElement>(null);\n  const themeContext = useTheme();\n  const { leftWidth, rightWidth } = useDrag({\n    containerRef,\n    dividerRef,\n    dividerWidth: themeContext.divider.width,\n  });\n\n  return (\n    <Container className={className} ref={containerRef}>\n      {leftChild(leftWidth)}\n      <Divider ref={dividerRef} />\n      {rightChild(rightWidth)}\n    </Container>\n  );\n};\n\nexport default Draggable;\n","import { useState, useEffect, useCallback, RefObject } from \"react\";\n\ninterface IProps {\n  containerRef: RefObject<HTMLDivElement | null>;\n  dividerRef: RefObject<HTMLDivElement | null>;\n  dividerWidth: number;\n}\n\nfunction useDrag({ containerRef, dividerRef, dividerWidth }: IProps) {\n  const [width, setWidth] = useState(0);\n  const [containerRect, setContainerRect] = useState<DOMRect | null>(null);\n\n  useEffect(() => {\n    function initialize() {\n      const containerEl = containerRef.current;\n      if (containerEl) {\n        const fullWidth = containerEl.clientWidth;\n        const containerRect = containerEl.getBoundingClientRect();\n        setContainerRect(containerRect);\n        setWidth(fullWidth / 2);\n      }\n    }\n\n    initialize();\n\n    window.addEventListener(\"resize\", initialize);\n  }, []);\n  const keepDragging = useCallback(\n    (event: MouseEvent) => {\n      const { clientX } = event;\n      if (containerRect) {\n        setWidth(clientX - containerRect.left);\n      }\n    },\n    [containerRect]\n  );\n  const stopDrag = useCallback(() => {\n    document.removeEventListener(\"mousemove\", keepDragging);\n    document.removeEventListener(\"mouseup\", stopDrag);\n  }, [keepDragging]);\n  const startDrag = useCallback(() => {\n    document.addEventListener(\"mousemove\", keepDragging);\n    document.addEventListener(\"mouseup\", stopDrag);\n  }, [keepDragging, stopDrag]);\n  useEffect(() => {\n    const dividerEl = dividerRef.current;\n    if (dividerEl) {\n      dividerEl.addEventListener(\"mousedown\", startDrag);\n    }\n    return () => {\n      if (dividerEl) {\n        dividerEl.removeEventListener(\"mousedown\", startDrag);\n      }\n    };\n  }, [startDrag]);\n\n  return {\n    leftWidth: width,\n    rightWidth: containerRect ? containerRect.width - width - dividerWidth : 0,\n  };\n}\n\nexport default useDrag;\n","import React, { FC, useState, createElement } from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport { setup, DefaultTheme } from \"goober\";\n\nimport Editor from \"./Editor\";\nimport Result from \"./Result\";\nimport { ISnippet, IEditorTabs, IResultTabs } from \"./types\";\nimport { ThemeProvider, useTheme } from \"./utils/ThemeProvider\";\nimport { ColorMode } from \"./utils/theme\";\nimport Draggable from \"./Draggable\";\n\nsetup(createElement, undefined, useTheme);\n\ninterface IProps {\n  initialSnippet: ISnippet;\n  defaultEditorTab?: IEditorTabs;\n  excludeEditorTabs?: IEditorTabs[];\n  defaultResultTab?: IResultTabs;\n  excludeResultTabs?: IResultTabs[];\n  transformJs?: boolean;\n  presets?: string[];\n  id?: string;\n  theme?: DefaultTheme;\n  mode: ColorMode;\n}\n\nconst Playground: FC<IProps> = ({\n  id: userId,\n  initialSnippet,\n  defaultEditorTab = \"markup\",\n  excludeEditorTabs = [],\n  defaultResultTab = \"result\",\n  excludeResultTabs = [],\n  transformJs = false,\n  presets = [],\n  theme,\n  mode = \"light\",\n}) => {\n  const [snippet, setSnippet] = useState<ISnippet>(initialSnippet);\n  const id = useId(userId) as string;\n\n  const onSnippetChange = (changed: string, type: IEditorTabs) => {\n    setSnippet((snippet) => ({\n      ...snippet,\n      [type]: changed,\n    }));\n  };\n  \n  return (\n    <ThemeProvider userTheme={theme} mode={mode}>\n      <div className=\"playground\">\n        <Draggable\n          leftChild={(width) => (\n            <Editor\n              width={width}\n              code={snippet}\n              defaultTab={defaultEditorTab}\n              excludeEditorTabs={excludeEditorTabs}\n              onChange={onSnippetChange}\n            />\n          )}\n          rightChild={(width) => (\n            <Result\n              width={width}\n              id={id}\n              snippet={snippet}\n              defaultTab={defaultResultTab}\n              excludeTabs={excludeResultTabs}\n              transformJs={transformJs}\n              presets={presets}\n            />\n          )}\n        />\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default Playground;\n"],"names":["EditorWrapper","styled","EditorSetup","language","onChange","React","SimpleEditor","value","code","onValueChange","style","height","highlight","Highlight","defaultProps","theme","className","getLineProps","getTokenProps","Fragment","tokens","map","line","i","key","token","padding","customMediaQuery","maxWidth","media","Object","freeze","custom","desktop","tablet","phone","StyledTabs","Tabs","StyledTabList","TabList","StyledTab","Tab","StyledTabPanels","TabPanels","StyledTabPanel","TabPanel","Editor","defaultTab","excludeEditorTabs","width","tabs","useMemo","name","filter","tab","find","defaultIndex","findIndex","Container","Console","logs","log","index","Inspector","data","ErrorDisplay","error","Frame","memo","id","snippet","transformJs","presets","useState","setCode","setError","javascript","css","markup","encodeURI","JSON","stringify","constructSnippet","err","message","useEffect","window","addEventListener","source","type","title","frameBorder","srcDoc","Result","excludeTabs","setLogs","prevLogs","lightModeColors","container","borderColor","background","color","console","divider","editor","backgroundColor","tabHeader","borderBottom","darkModeColors","panelBackground","selectedTab","minHeight","minWidth","fontFamily","tabPanel","phoneHeight","ThemeContext","createContext","useTheme","useContext","ThemeProvider","mode","userTheme","children","consolidatedTheme","setConsolidatedTheme","merge","getTheme","Provider","forwardRef","Divider","Draggable","leftChild","rightChild","containerRef","useRef","dividerRef","dividerWidth","setWidth","containerRect","setContainerRect","initialize","containerEl","current","fullWidth","clientWidth","getBoundingClientRect","keepDragging","useCallback","event","clientX","left","stopDrag","document","removeEventListener","startDrag","dividerEl","leftWidth","rightWidth","useDrag","ref","setup","createElement","undefined","userId","defaultEditorTab","defaultResultTab","excludeResultTabs","initialSnippet","setSnippet","useId","onSnippetChange","changed"],"mappings":"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"}